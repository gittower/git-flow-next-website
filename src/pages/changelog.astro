---
import Layout from '../layouts/Layout.astro';
import TableOfContents from '../components/TableOfContents.astro';

const title = "Changelog";
const description = "View the complete changelog for git-flow-next releases.";

// Define headings for table of contents
const headings = [
  { slug: '100---2026-02-08', text: '[1.0.0] - 2026-02-08' },
  { slug: '030---2026-01-14', text: '[0.3.0] - 2026-01-14' },
  { slug: '020---2026-01-11', text: '[0.2.0] - 2026-01-11' },
  { slug: '011---2025-09-24', text: '[0.1.1] - 2025-09-24' },
  { slug: '010---2025-09-16', text: '[0.1.0] - 2025-09-16' }
];
---

<Layout title={title} description={description}>
  <section>

    <aside>
      <TableOfContents title="Table of Contents" headings={headings} />
    </aside>

    <article>
      <h1>{title}</h1>

      <div class="blog-post">

      <h2 id="100---2026-02-08">[1.0.0] - 2026-02-08</h2>

      <h3>Added</h3>
      <ul>
        <li><code>--no-verify</code> option for finish command to skip git hooks during merge</li>
        <li><code>--merge-message</code> and <code>--update-message</code> options for finish command with placeholder support</li>
        <li>Git config support for merge message options (<code>gitflow.&lt;type&gt;.finish.mergeMessage</code>, <code>gitflow.&lt;type&gt;.finish.updateMessage</code>)</li>
        <li>Configuration scope flags for init command (<code>--local</code>, <code>--global</code>, <code>--system</code>, <code>--file</code>)</li>
        <li><code>--force</code> option for init command to allow reconfiguration</li>
        <li>Remote sync check before finish to ensure local branch is up-to-date with remote</li>
      </ul>

      <h3>Changed</h3>
      <ul>
        <li>Default fetch behavior changed to <code>true</code> for finish command</li>
      </ul>

      <h3>Fixed</h3>
      <ul>
        <li>Hooks now receive correct positional arguments</li>
      </ul>

      <h2 id="030---2026-01-14">[0.3.0] - 2026-01-14</h2>

      <h3>Added</h3>
      <ul>
        <li>Add hooks and filters system for customizing git-flow operations
          <ul>
            <li>Pre/post hooks for start, finish, publish, track, delete, and update actions</li>
            <li>Version filters for topic branches on start</li>
            <li>Tag message filters for topic branches that create tags on finish</li>
          </ul>
        </li>
        <li>Add <code>publish</code> command for topic branches to push branches to remote</li>
        <li>Add <code>--squash-message</code> option for custom squash commit messages on finish</li>
        <li>Add config support for force deletion (<code>gitflow.branch.&lt;type&gt;.forceDelete</code>)</li>
      </ul>

      <h3>Fixed</h3>
      <ul>
        <li>Fix worktree support for hooks, filters, and merge state</li>
        <li>Fix shorthand <code>git flow publish</code> command (was returning "not implemented")</li>
        <li>Fix <code>git flow &lt;type&gt; finish</code> to allow optional branch name (uses current branch)</li>
      </ul>

      <h2 id="020---2026-01-11">[0.2.0] - 2026-01-11</h2>
      
      <h3>Added</h3>
      <ul>
        <li>Add <code>track</code> command for topic branches to track existing remote branches</li>
        <li>Add <code>--fetch</code> option for topic branch finish command</li>
      </ul>
      
      <h3>Fixed</h3>
      <ul>
        <li>Create base branches in dependency order during init</li>
        <li>Fix docs link in README.md</li>
      </ul>
      
      <h3>Changed</h3>
      <ul>
        <li>Optimize binary size (~50% reduction)</li>
      </ul>

      <h2 id="011---2025-09-24">[0.1.1] - 2025-09-24</h2>
      
      <h3>Fixed</h3>
      <ul>
        <li>Minor bug fixes and improvements</li>
      </ul>

      <h2 id="010---2025-09-16">[0.1.0] - 2025-09-16</h2>

      <h3>Added</h3>
      <ul>
        <li>Initial release of git-flow-next</li>
        <li>Support for feature, release, hotfix, and support branch workflows</li>
        <li>Fully customizable base and topic branches with configurable prefixes and relationships</li>
        <li>Configurable merge strategies: merge, rebase, or squash when finishing branches</li>
        <li>Flexible configuration via git config or command-line flags</li>
        <li>Conflict recovery: resolve conflicts and continue where you left off</li>
        <li>Automatic updates to child branches (e.g., develop syncs from main)</li>
        <li>Compatibility with existing git-flow-avh repositories</li>
      </ul>
      </div>
    </article>

  </section>
</Layout>

<style>
  section {
    max-width: 1040px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    padding: 3.5rem 1rem 6.5rem;
    @media (max-width: 767px) {
      display: block;
    }
  }

  aside {
    display: none;
  }

  @media (min-width: 768px) {
    section {
      grid-template-columns: minmax(0, 15rem) 1fr;
      gap: 2.5rem;
    }

    aside {
      display: block;
    }
  }

  @media (min-width: 1024px) {
    section {
      gap: 6rem;
    }
  }

  h1 {
    margin-bottom: 2rem;
  }

  h2 {
    margin-top: 3rem;
    margin-bottom: 1.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }

  h3 {
    margin-top: 2rem;
    margin-bottom: 1rem;
    color: var(--main-green);
  }

  ul {
    margin-bottom: 2rem;
    padding-left: 1.5rem;
  }

  li {
    margin-bottom: 0.5rem;
  }

  code {
    background: rgba(70, 53, 177, 0.2);
    padding: 0.2rem 0.4rem;
    border-radius: 4px;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  }

  p {
    margin-bottom: 2rem;
  }
</style>